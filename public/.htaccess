RewriteEngine On
RewriteBase /

# 1. Fehlerseite /error/XYZ â†’ error.php?code=XYZ
RewriteRule ^error/([0-9]{3})$ error.php?code=$1 [QSA,L]

# 2. error.php nicht umleiten (sonst Endlosschleife)
RewriteCond %{REQUEST_URI} ^/error\.php [NC]
RewriteRule ^ - [L]

# 3. echte Dateien/Verzeichnisse ausnehmen
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# 4. alle anderen Pfade an router.php weiterleiten
RewriteRule ^(.*)$ router.php?page=$1 [QSA,L]

# 5. Fehlerseiten definieren (werden von Apache erkannt!)
ErrorDocument 403 /error/403
ErrorDocument 404 /error/404
ErrorDocument 500 /error/500
ErrorDocument 503 /error/503
