RewriteEngine On
RewriteBase /iksy05/IKSY2/public/

# 1. Fehlerseite /error/XYZ â†’ error.php?code=XYZ
RewriteRule ^error/([0-9]{3})$ error.php?code=$1 [QSA,L]

# 2. error.php nicht umleiten (sonst Endlosschleife)
RewriteCond %{REQUEST_URI} ^/iksy05/IKSY2/public/error\.php [NC]
RewriteRule ^ - [L]

# 3. echte Dateien/Verzeichnisse ausnehmen
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# 4. alle anderen Pfade an router.php weiterleiten
RewriteRule ^(.*)$ router.php?page=$1 [QSA,L]

# 5. Fehlerseiten definieren (werden von Apache erkannt!)
ErrorDocument 403 /iksy05/IKSY2/public/error.php?code=403
ErrorDocument 404 /iksy05/IKSY2/public/error.php?code=404
ErrorDocument 500 /iksy05/IKSY2/public/error.php?code=500
ErrorDocument 503 /iksy05/IKSY2/public/error.php?code=503

